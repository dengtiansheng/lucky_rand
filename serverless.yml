# 腾讯云 Serverless Framework 配置文件
service: lucky-rand

provider:
  name: tencent
  runtime: Python3.6
  region: ap-guangzhou
  memorySize: 512
  timeout: 30
  # 环境变量配置
  # 注意：敏感信息请通过腾讯云控制台或部署时设置，不要直接写在配置文件中
  # 部署前请设置以下环境变量：
  # export DB_HOST=your_host
  # export DB_PORT=3306
  # export DB_USER=your_user
  # export DB_PASSWORD=your_password
  # export DB_NAME=lucky_rand
  environment: {}

functions:
  app:
    handler: app.app
    description: 人生决策骰子模拟器
    events:
      - apigw:
          path: /
          method: ANY
      - apigw:
          path: /{proxy+}
          method: ANY

plugins:
  - serverless-tencent-scf
  - serverless-python-requirements

custom:
  pythonRequirements:
    dockerizePip: false
    pipCmdExtraArgs:
      - --cache-dir
      - /tmp/.cache/pip

